
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="kkangil&#39;s Blog">
    <title>Sequelize model 정의 - kkangil&#39;s Blog</title>
    <meta name="author" content="kkangil">
    <link rel="canonical" href="https://kkangil.github.io/2019/04/28/sequelize-model-정의/"/>
    <meta name="google-site-verification" content="6_Smv-rWZw7urNifInu4CE1hyB_GcTbeoXpaJkoFWIo" />
    <meta name="naver-site-verification" content="b0ce7bc14af00ce2aee96528313654d78c325351" />
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/rss2.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"kkangil","sameAs":["https://github.com/kkangil","http://stackoverflow.com/users/10870848/kkangil","https://www.linkedin.com/in/kangil-kim-31093a169/","fe.kkangil@gmail.com"],"image":"profile.jpeg"},"articleBody":"sequelize model 정의\nsesquelize model 을 정의하는 방법은 여러가지 있지만, sequelize 의 define 메소드를 이용해 정의하고자 한다.\nmodel이란 데이터베이스의 테이블에 해당되며, 객체내의 key 값은 컬럼으로 생성된다.1234567891011return sequelize.define(  &quot;User&quot;,  &#123;    username: &#123;      type: DataTypes.STRING(128)    &#125;,    job: &#123;      type: DataTypes.STRING    &#125;  &#125;)\n\n\n\n\ndefine 함수의 첫번째 파라미터는 테이블의 이름에 해당된다. 또한 express 프로젝트에서도 해당 이름으로 데이터베이스에 접근할 수 있다.\n두번째 파라미터는 컬럼을 정의하는 것이다. 위의 예시는 가장 기본적인 컬럼을 생성한 것이고 나머지 옵션들은 밑에서 확인해 보도록 한다.\n\ncolumn option\nsequelize model 생성시 sequelize 는 고유 키값을 정의해 주지 않아도, 다른 설정이 없다면 id 로 생성해주며 row 생성시 자동으로 1씩 증가한다.\nid 이외에 createdAt(생성일), updatedAt(수정일) 도 같이 생성해준다.\ndefaultValue: row가 생성될때 기본값을 설정해줄 수 있다. (etc. Sequelize.NOW)\nallowNull: false로 설정해주면 빈값으로 생성시 에러가 난다.(default true)\nunique: 테이블내의 고유한 값(boolean)\nprimaryKey: 고유 키값 설정 여부\nautoIncrement: 자동으로 값을 증가시켜준다. (Integer 에서만 사용 가능)\nfield: 객체 키값과 다르게 custom으로 컬럼명을 사용할 수 있게해준다.\ncomment: 해당 컬럼에 대한 설명을 달 수 있다. 컬럼 생성에 영향을 미치지는 않는다. 주석같은 개념\n\nGetters &amp; setters\n컬럼 option에 getter와 setter를 추가해 줄 수 있다.\n1234567891011121314151617181920212223242526return sequelize.define(  &quot;User&quot;,  &#123;    username: &#123;      type: DataTypes.STRING(128),      allowNull: false,      get() &#123;        const job = this.getDataValue(&apos;job&apos;)        return `$&#123;this.getDataValue(&apos;username&apos;)&#125; ($&#123;this.getDataValue(&apos;job&apos;)&#125;)`      &#125;    &#125;,    job: &#123;      type: DataTypes.STRING,      allowNull: false,      set(job) &#123;        this.setDataValue(&apos;job&apos;, job.toUpperCase())      &#125;    &#125;  &#125;)const userSample = async () =&gt; &#123;  const user = await User.create(&#123; username: &apos;kkangil&apos;, job: &apos;developer&apos; &#125;)  console.log(user.get(&apos;username&apos;)) // kkangil (DEVELOPER)  console.log(user.get(&apos;job&apos;)) // DEVELOPER&#125;\n\ngetDataValue 를 사용하여 자신의 컬럼 뿐만 아니라 테이블의 컬럼 데이터도 가져올 수 있다.\n\nsetDataValue 를 사용하여 생성이나 수정 시 데이터 값을 수정, 변경할 수 있다. \n컬럼 객체 내부에 설정해 주지 않고, define 함수의 세번째 파라미터로도 사용이 가능하다.12345678910111213141516171819return sequelize.define(  &quot;User&quot;,  &#123;    username: &#123;      type: DataTypes.STRING(128),      allowNull: false    &#125;,    job: &#123;      type: DataTypes.STRING,      allowNull: false    &#125;  &#125;, &#123;    getterMethods: &#123;      getUser() &#123;        return `$&#123;this.username&#125; ($&#123;this.job&#125;)`      &#125;    &#125;  &#125;)\n\n\nvalidate column\n데이터 타입 이외에도 validate 를 사용해서 유효성 확인 후 에러를 반환해 줄 수 있다.\n1234567891011121314151617181920212223242526return sequelize.define(  &quot;Foo&quot;,  &#123;    bar: &#123;      type: DataTypes.STRING,      validate: &#123;        is: /^[a-z]+$/i, // 정규식 사용해서 유효성 확인        not: /^[a-z]+$/i,        isEmail: true, // 이메일 유효성 확인        isInt: true,        notNull: true,        isNull: true,        notEmpty: true, // string 빈값 확인        equals: &apos;specific value&apos;, // 특정 값으로만 생성 가능        contains: &apos;foo&apos;, // 해당 값을 포함하고 있는지 확인        notContains: &apos;bar&apos;,        notIn: [[&apos;foo&apos;, &apos;bar&apos;]],        isIn: [[&apos;foo&apos;, &apos;bar&apos;]],        len: [2,10], // 2자리 ~ 10자리        max: 23,        min: 10,        isCreditCard: true // 신용카드 유효성 확인      &#125;    &#125;  &#125;)\n\n제공되는 validate 가 아닌 직접 만들어서 사용하는 기능도 제공한다.\n12345678910bar: &#123;  type: DataTypes.INTEGER,  validate: &#123;    isEven(value) &#123;      if (parseInt(value) % 2 !== 0) &#123;        throw new Error(&apos;Only even values are allowed!&apos;);      &#125;    &#125;  &#125;&#125;\n\nthrow new Error의 메시지가 에러로 리턴된다.\n\n직접 만들어서 사용하지 않아도 메시지를 설정해 줄 수 있다.\n123456789101112bar: &#123;  type: DataTypes.INTEGER,  validate: &#123;    notNull: &#123;      msg: &quot;Must&quot;    &#125;,    isIn: &#123;      args: [[&apos;en&apos;, &apos;zh&apos;]],      msg: &quot;Must be English or Chinese&quot;    &#125;  &#125;&#125;\n\nallowNull 을 사용한다면 notNull 의 msg를 설정해주면 에러메시지로 사용가능하다.\n\n\n123456789101112131415161718192021return sequelize.define(  &quot;User&quot;,  &#123;    username: &#123;      type: DataTypes.STRING(128),      allowNull: false    &#125;,    job: &#123;      type: DataTypes.STRING,      allowNull: false    &#125;  &#125;, &#123;    validate: &#123;      checkUsernameAndJob() &#123;        if (!(this.username &amp;&amp; this.job)) &#123;          throw new Error(&apos;이름과 직업을 입력해주세요.&apos;)        &#125;      &#125;    &#125;  &#125;)\n\ndefine 함수의 세번째 파라미터 객체에 validate 를 설정해주면 하나의 컬럼이 아닌 테이블의 모든 컬럼의 유효성은 같이 확인 할 수 있다.\n\nmodel configuration\ndefine 함수의 세번째 파라미터 객체의 설정값123456789101112return sequelize.define(  ..., &#123;    modelName: &apos;bar&apos;, // 모델 이름 설정    timestamps: false, // createdAt, updatedAt 생성하지 않음    paranoid: true, // 데이터를 삭제하지 않고 현재 시간으로 deletedAt 데이터가 추가된다.    underscored: true, // 자동으로 컬럼명을 snake 네임으로 변경한다.    tableName: &apos;my_bar&apos;, // 테이블 이름 설정    createdAt: false, // createdAt 사용하지 않음    updatedAt: &apos;updateTimestamp&apos;, // updatedAt 컬럼명 정의    deletedAt: &apos;destroyTime&apos;, // deletedAt 컬럼명 정의 (paranoid가 true로 설정되어 있어야함.)  &#125;)\n\n\n참고 sequelize docs\n","dateCreated":"2019-04-28T14:45:40+09:00","dateModified":"2019-04-28T14:47:51+09:00","datePublished":"2019-04-28T14:45:40+09:00","description":"sequelize model 정의\nsesquelize model 을 정의하는 방법은 여러가지 있지만, sequelize 의 define 메소드를 이용해 정의하고자 한다.\nmodel이란 데이터베이스의 테이블에 해당되며, 객체내의 key 값은 컬럼으로 생성된다.1234567891011return sequelize.define(  &quot;User&quot;,  &#123;    username: &#123;      type: DataTypes.STRING(128)    &#125;,    job: &#123;      type: DataTypes.STRING    &#125;  &#125;)\n\n","headline":"Sequelize model 정의","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kkangil.github.io/2019/04/28/Sequelize-model-정의/"},"publisher":{"@type":"Organization","name":"kkangil","sameAs":["https://github.com/kkangil","http://stackoverflow.com/users/10870848/kkangil","https://www.linkedin.com/in/kangil-kim-31093a169/","fe.kkangil@gmail.com"],"image":"profile.jpeg","logo":{"@type":"ImageObject","url":"profile.jpeg"}},"url":"https://kkangil.github.io/2019/04/28/Sequelize-model-정의/","keywords":"Sequelize, MySQL, model 정의"}</script>
    <meta name="description" content="sequelize model 정의 sesquelize model 을 정의하는 방법은 여러가지 있지만, sequelize 의 define 메소드를 이용해 정의하고자 한다. model이란 데이터베이스의 테이블에 해당되며, 객체내의 key 값은 컬럼으로 생성된다.1234567891011return sequelize.define(  &amp;quot;User&amp;quot;,">
<meta name="keywords" content="Sequelize,MySQL,model 정의">
<meta property="og:type" content="blog">
<meta property="og:title" content="Sequelize model 정의">
<meta property="og:url" content="https://kkangil.github.io/2019/04/28/Sequelize-model-정의/index.html">
<meta property="og:site_name" content="kkangil&#39;s Blog">
<meta property="og:description" content="sequelize model 정의 sesquelize model 을 정의하는 방법은 여러가지 있지만, sequelize 의 define 메소드를 이용해 정의하고자 한다. model이란 데이터베이스의 테이블에 해당되며, 객체내의 key 값은 컬럼으로 생성된다.1234567891011return sequelize.define(  &amp;quot;User&amp;quot;,">
<meta property="og:locale" content="ko">
<meta property="og:updated_time" content="2019-04-28T05:47:51.084Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sequelize model 정의">
<meta name="twitter:description" content="sequelize model 정의 sesquelize model 을 정의하는 방법은 여러가지 있지만, sequelize 의 define 메소드를 이용해 정의하고자 한다. model이란 데이터베이스의 테이블에 해당되며, 객체내의 key 값은 컬럼으로 생성된다.1234567891011return sequelize.define(  &amp;quot;User&amp;quot;,">
    
    
        
    
    
        <meta property="og:image" content="https://kkangil.github.io/assets/images/profile.jpeg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-c4ozcsklz4kht2pebhp44xorvyverh23toayhn7i6ubrpyedak24hv1v0hyd.min.css">
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-165569140-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-165569140-1');
    </script>


    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">kkangil&#39;s Blog</a>
    </div>
    
        
            <a class="header-right-picture " href="#about">
        
        
            <img class="header-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture">
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture">
                </a>
                <h4 class="sidebar-profile-name">kkangil</h4>
                
                    <h5 class="sidebar-profile-bio"><p>React와 Node를 사용하는 풀스택 개발자가 되는것이 목표입니다.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="Home">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="카테고리">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="태그">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" title="기록">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">기록</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="#search" title="검색">
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">검색</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" title="About">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/kkangil" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="http://stackoverflow.com/users/10870848/kkangil" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://www.linkedin.com/in/kangil-kim-31093a169/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/fe.kkangil@gmail.com" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" title="RSS">
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Sequelize model 정의
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-04-28T14:45:40+09:00">
	
		    4월 28, 2019
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/Sequelize/">Sequelize</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h2 id="sequelize-model-정의"><a href="#sequelize-model-정의" class="headerlink" title="sequelize model 정의"></a>sequelize model 정의</h2><ul>
<li>sesquelize model 을 정의하는 방법은 여러가지 있지만, sequelize 의 <code>define</code> 메소드를 이용해 정의하고자 한다.</li>
<li>model이란 데이터베이스의 테이블에 해당되며, 객체내의 key 값은 컬럼으로 생성된다.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">return sequelize.define(</span><br><span class="line">  &quot;User&quot;,</span><br><span class="line">  &#123;</span><br><span class="line">    username: &#123;</span><br><span class="line">      type: DataTypes.STRING(128)</span><br><span class="line">    &#125;,</span><br><span class="line">    job: &#123;</span><br><span class="line">      type: DataTypes.STRING</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<a id="more"></a>
<ul>
<li><code>define</code> 함수의 첫번째 파라미터는 테이블의 이름에 해당된다. 또한 express 프로젝트에서도 해당 이름으로 데이터베이스에 접근할 수 있다.</li>
<li>두번째 파라미터는 컬럼을 정의하는 것이다. 위의 예시는 가장 기본적인 컬럼을 생성한 것이고 나머지 옵션들은 밑에서 확인해 보도록 한다.</li>
</ul>
<h2 id="column-option"><a href="#column-option" class="headerlink" title="column option"></a>column option</h2><ul>
<li>sequelize model 생성시 sequelize 는 고유 키값을 정의해 주지 않아도, 다른 설정이 없다면 id 로 생성해주며 row 생성시 자동으로 1씩 증가한다.</li>
<li>id 이외에 createdAt(생성일), updatedAt(수정일) 도 같이 생성해준다.</li>
<li>defaultValue: row가 생성될때 기본값을 설정해줄 수 있다. (etc. Sequelize.NOW)</li>
<li>allowNull: false로 설정해주면 빈값으로 생성시 에러가 난다.(default true)</li>
<li>unique: 테이블내의 고유한 값(boolean)</li>
<li>primaryKey: 고유 키값 설정 여부</li>
<li>autoIncrement: 자동으로 값을 증가시켜준다. (Integer 에서만 사용 가능)</li>
<li>field: 객체 키값과 다르게 custom으로 컬럼명을 사용할 수 있게해준다.</li>
<li>comment: 해당 컬럼에 대한 설명을 달 수 있다. 컬럼 생성에 영향을 미치지는 않는다. 주석같은 개념</li>
</ul>
<h2 id="Getters-amp-setters"><a href="#Getters-amp-setters" class="headerlink" title="Getters &amp; setters"></a>Getters &amp; setters</h2><ul>
<li><p>컬럼 option에 getter와 setter를 추가해 줄 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">return sequelize.define(</span><br><span class="line">  &quot;User&quot;,</span><br><span class="line">  &#123;</span><br><span class="line">    username: &#123;</span><br><span class="line">      type: DataTypes.STRING(128),</span><br><span class="line">      allowNull: false,</span><br><span class="line">      get() &#123;</span><br><span class="line">        const job = this.getDataValue(&apos;job&apos;)</span><br><span class="line">        return `$&#123;this.getDataValue(&apos;username&apos;)&#125; ($&#123;this.getDataValue(&apos;job&apos;)&#125;)`</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    job: &#123;</span><br><span class="line">      type: DataTypes.STRING,</span><br><span class="line">      allowNull: false,</span><br><span class="line">      set(job) &#123;</span><br><span class="line">        this.setDataValue(&apos;job&apos;, job.toUpperCase())</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">const userSample = async () =&gt; &#123;</span><br><span class="line">  const user = await User.create(&#123; username: &apos;kkangil&apos;, job: &apos;developer&apos; &#125;)</span><br><span class="line">  console.log(user.get(&apos;username&apos;)) // kkangil (DEVELOPER)</span><br><span class="line">  console.log(user.get(&apos;job&apos;)) // DEVELOPER</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>getDataValue</code> 를 사용하여 자신의 컬럼 뿐만 아니라 테이블의 컬럼 데이터도 가져올 수 있다.</p>
</li>
<li><code>setDataValue</code> 를 사용하여 생성이나 수정 시 데이터 값을 수정, 변경할 수 있다. </li>
<li>컬럼 객체 내부에 설정해 주지 않고, <code>define</code> 함수의 세번째 파라미터로도 사용이 가능하다.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">return sequelize.define(</span><br><span class="line">  &quot;User&quot;,</span><br><span class="line">  &#123;</span><br><span class="line">    username: &#123;</span><br><span class="line">      type: DataTypes.STRING(128),</span><br><span class="line">      allowNull: false</span><br><span class="line">    &#125;,</span><br><span class="line">    job: &#123;</span><br><span class="line">      type: DataTypes.STRING,</span><br><span class="line">      allowNull: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    getterMethods: &#123;</span><br><span class="line">      getUser() &#123;</span><br><span class="line">        return `$&#123;this.username&#125; ($&#123;this.job&#125;)`</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="validate-column"><a href="#validate-column" class="headerlink" title="validate column"></a>validate column</h2><ul>
<li><p>데이터 타입 이외에도 <code>validate</code> 를 사용해서 유효성 확인 후 에러를 반환해 줄 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">return sequelize.define(</span><br><span class="line">  &quot;Foo&quot;,</span><br><span class="line">  &#123;</span><br><span class="line">    bar: &#123;</span><br><span class="line">      type: DataTypes.STRING,</span><br><span class="line">      validate: &#123;</span><br><span class="line">        is: /^[a-z]+$/i, // 정규식 사용해서 유효성 확인</span><br><span class="line">        not: /^[a-z]+$/i,</span><br><span class="line">        isEmail: true, // 이메일 유효성 확인</span><br><span class="line">        isInt: true,</span><br><span class="line">        notNull: true,</span><br><span class="line">        isNull: true,</span><br><span class="line">        notEmpty: true, // string 빈값 확인</span><br><span class="line">        equals: &apos;specific value&apos;, // 특정 값으로만 생성 가능</span><br><span class="line">        contains: &apos;foo&apos;, // 해당 값을 포함하고 있는지 확인</span><br><span class="line">        notContains: &apos;bar&apos;,</span><br><span class="line">        notIn: [[&apos;foo&apos;, &apos;bar&apos;]],</span><br><span class="line">        isIn: [[&apos;foo&apos;, &apos;bar&apos;]],</span><br><span class="line">        len: [2,10], // 2자리 ~ 10자리</span><br><span class="line">        max: 23,</span><br><span class="line">        min: 10,</span><br><span class="line">        isCreditCard: true // 신용카드 유효성 확인</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>제공되는 <code>validate</code> 가 아닌 직접 만들어서 사용하는 기능도 제공한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bar: &#123;</span><br><span class="line">  type: DataTypes.INTEGER,</span><br><span class="line">  validate: &#123;</span><br><span class="line">    isEven(value) &#123;</span><br><span class="line">      if (parseInt(value) % 2 !== 0) &#123;</span><br><span class="line">        throw new Error(&apos;Only even values are allowed!&apos;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>throw new Error의 메시지가 에러로 리턴된다.</p>
</li>
<li><p>직접 만들어서 사용하지 않아도 메시지를 설정해 줄 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">bar: &#123;</span><br><span class="line">  type: DataTypes.INTEGER,</span><br><span class="line">  validate: &#123;</span><br><span class="line">    notNull: &#123;</span><br><span class="line">      msg: &quot;Must&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    isIn: &#123;</span><br><span class="line">      args: [[&apos;en&apos;, &apos;zh&apos;]],</span><br><span class="line">      msg: &quot;Must be English or Chinese&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>allowNull</code> 을 사용한다면 <code>notNull</code> 의 <code>msg</code>를 설정해주면 에러메시지로 사용가능하다.</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">return sequelize.define(</span><br><span class="line">  &quot;User&quot;,</span><br><span class="line">  &#123;</span><br><span class="line">    username: &#123;</span><br><span class="line">      type: DataTypes.STRING(128),</span><br><span class="line">      allowNull: false</span><br><span class="line">    &#125;,</span><br><span class="line">    job: &#123;</span><br><span class="line">      type: DataTypes.STRING,</span><br><span class="line">      allowNull: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    validate: &#123;</span><br><span class="line">      checkUsernameAndJob() &#123;</span><br><span class="line">        if (!(this.username &amp;&amp; this.job)) &#123;</span><br><span class="line">          throw new Error(&apos;이름과 직업을 입력해주세요.&apos;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>define</code> 함수의 세번째 파라미터 객체에 validate 를 설정해주면 하나의 컬럼이 아닌 테이블의 모든 컬럼의 유효성은 같이 확인 할 수 있다.</li>
</ul>
<h2 id="model-configuration"><a href="#model-configuration" class="headerlink" title="model configuration"></a>model configuration</h2><ul>
<li><code>define</code> 함수의 세번째 파라미터 객체의 설정값<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">return sequelize.define(</span><br><span class="line">  ..., &#123;</span><br><span class="line">    modelName: &apos;bar&apos;, // 모델 이름 설정</span><br><span class="line">    timestamps: false, // createdAt, updatedAt 생성하지 않음</span><br><span class="line">    paranoid: true, // 데이터를 삭제하지 않고 현재 시간으로 deletedAt 데이터가 추가된다.</span><br><span class="line">    underscored: true, // 자동으로 컬럼명을 snake 네임으로 변경한다.</span><br><span class="line">    tableName: &apos;my_bar&apos;, // 테이블 이름 설정</span><br><span class="line">    createdAt: false, // createdAt 사용하지 않음</span><br><span class="line">    updatedAt: &apos;updateTimestamp&apos;, // updatedAt 컬럼명 정의</span><br><span class="line">    deletedAt: &apos;destroyTime&apos;, // deletedAt 컬럼명 정의 (paranoid가 true로 설정되어 있어야함.)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>참고 <a href="http://docs.sequelizejs.com/manual/models-definition.html" target="_blank" rel="noopener">sequelize docs</a></p>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/MySQL/">MySQL</a> <a class="tag tag--primary tag--small t-link" href="/tags/Sequelize/">Sequelize</a> <a class="tag tag--primary tag--small t-link" href="/tags/model-정의/">model 정의</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/09/28/함수형-프로그래밍-시작/" data-tooltip="함수형 프로그래밍 - 시작" aria-label="이전: 함수형 프로그래밍 - 시작">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/04/19/리액트-Hooks-3-사용방법2/" data-tooltip="리액트 Hooks: 3. 사용방법2" aria-label="다음: 리액트 Hooks: 3. 사용방법2">
                
                    <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="글 공유">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/" title="Facebook 공유">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/" title="Twitter 공유">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/" title="Google+ 공유">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="상단 이동">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 kkangil. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/09/28/함수형-프로그래밍-시작/" data-tooltip="함수형 프로그래밍 - 시작" aria-label="이전: 함수형 프로그래밍 - 시작">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/04/19/리액트-Hooks-3-사용방법2/" data-tooltip="리액트 Hooks: 3. 사용방법2" aria-label="다음: 리액트 Hooks: 3. 사용방법2">
                
                    <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="글 공유">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/" title="Facebook 공유">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/" title="Twitter 공유">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/" title="Google+ 공유">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="상단 이동">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/">
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook 공유</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/">
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter 공유</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https://kkangil.github.io/2019/04/28/Sequelize-model-정의/">
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+ 공유</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpeg" alt="Author&#39;s picture">
        
            <h4 id="about-card-name">kkangil</h4>
        
            <div id="about-card-bio"><p>React와 Node를 사용하는 풀스택 개발자가 되는것이 목표입니다.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>web developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br>
                Asia/Seoul
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-dbd16rvloemmuxdzniplmnxxvwoz24eya9wol0b7vvmlokgqsjivmb8dnscy.min.js"></script>
<!--SCRIPTS END-->

    



    </body>
</html>
